{
  "id": "f9ae3ab6-4f06-400a-9a6e-260f62904a8f",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "identidad.usuarios": {
      "name": "usuarios",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre_completo": {
          "name": "nombre_completo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "id_oficina": {
          "name": "id_oficina",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "password_temp": {
          "name": "password_temp",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "usuarios_id_oficina_oficinas_id_fk": {
          "name": "usuarios_id_oficina_oficinas_id_fk",
          "tableFrom": "usuarios",
          "tableTo": "oficinas",
          "schemaTo": "identidad",
          "columnsFrom": [
            "id_oficina"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "usuarios_email_unique": {
          "name": "usuarios_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.perfiles": {
      "name": "perfiles",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.areas": {
      "name": "areas",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.perfil_area_usuario": {
      "name": "perfil_area_usuario",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "perfil_id": {
          "name": "perfil_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "area_id": {
          "name": "area_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "perfil_area_usuario_perfil_id_perfiles_id_fk": {
          "name": "perfil_area_usuario_perfil_id_perfiles_id_fk",
          "tableFrom": "perfil_area_usuario",
          "tableTo": "perfiles",
          "schemaTo": "identidad",
          "columnsFrom": [
            "perfil_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "perfil_area_usuario_area_id_areas_id_fk": {
          "name": "perfil_area_usuario_area_id_areas_id_fk",
          "tableFrom": "perfil_area_usuario",
          "tableTo": "areas",
          "schemaTo": "identidad",
          "columnsFrom": [
            "area_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "perfil_area_usuario_usuario_id_usuarios_id_fk": {
          "name": "perfil_area_usuario_usuario_id_usuarios_id_fk",
          "tableFrom": "perfil_area_usuario",
          "tableTo": "usuarios",
          "schemaTo": "identidad",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "perfil_area_usuario_perfil_id_area_id_usuario_id_unique": {
          "name": "perfil_area_usuario_perfil_id_area_id_usuario_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "perfil_id",
            "area_id",
            "usuario_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.sistemas": {
      "name": "sistemas",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icono": {
          "name": "icono",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.menu": {
      "name": "menu",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "id_sistema": {
          "name": "id_sistema",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "id_padre": {
          "name": "id_padre",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ruta": {
          "name": "ruta",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icono": {
          "name": "icono",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "patch": {
          "name": "patch",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "componente": {
          "name": "componente",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visible": {
          "name": "visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "nivel": {
          "name": "nivel",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "orden": {
          "name": "orden",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "menu_id_sistema_sistemas_id_fk": {
          "name": "menu_id_sistema_sistemas_id_fk",
          "tableFrom": "menu",
          "tableTo": "sistemas",
          "schemaTo": "identidad",
          "columnsFrom": [
            "id_sistema"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "menu_id_padre_menu_id_fk": {
          "name": "menu_id_padre_menu_id_fk",
          "tableFrom": "menu",
          "tableTo": "menu",
          "schemaTo": "identidad",
          "columnsFrom": [
            "id_padre"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.tokens_contrasena_temporal": {
      "name": "tokens_contrasena_temporal",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "usado": {
          "name": "usado",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "expira_en": {
          "name": "expira_en",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "creado_en": {
          "name": "creado_en",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tokens_contrasena_temporal_usuario_id_usuarios_id_fk": {
          "name": "tokens_contrasena_temporal_usuario_id_usuarios_id_fk",
          "tableFrom": "tokens_contrasena_temporal",
          "tableTo": "usuarios",
          "schemaTo": "identidad",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tokens_contrasena_temporal_token_unique": {
          "name": "tokens_contrasena_temporal_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.direcciones": {
      "name": "direcciones",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "responsable": {
          "name": "responsable",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.departamentos": {
      "name": "departamentos",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre_departamento": {
          "name": "nombre_departamento",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "responsable": {
          "name": "responsable",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "id_direccion": {
          "name": "id_direccion",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "departamentos_id_direccion_direcciones_id_fk": {
          "name": "departamentos_id_direccion_direcciones_id_fk",
          "tableFrom": "departamentos",
          "tableTo": "direcciones",
          "schemaTo": "identidad",
          "columnsFrom": [
            "id_direccion"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.oficinas": {
      "name": "oficinas",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre_oficina": {
          "name": "nombre_oficina",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "responsable": {
          "name": "responsable",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "id_departamento": {
          "name": "id_departamento",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "oficinas_id_departamento_departamentos_id_fk": {
          "name": "oficinas_id_departamento_departamentos_id_fk",
          "tableFrom": "oficinas",
          "tableTo": "departamentos",
          "schemaTo": "identidad",
          "columnsFrom": [
            "id_departamento"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "identidad.sistema_perfil": {
      "name": "sistema_perfil",
      "schema": "identidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "sistema_id": {
          "name": "sistema_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "perfil_id": {
          "name": "perfil_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sistema_perfil_sistema_id_sistemas_id_fk": {
          "name": "sistema_perfil_sistema_id_sistemas_id_fk",
          "tableFrom": "sistema_perfil",
          "tableTo": "sistemas",
          "schemaTo": "identidad",
          "columnsFrom": [
            "sistema_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sistema_perfil_perfil_id_perfiles_id_fk": {
          "name": "sistema_perfil_perfil_id_perfiles_id_fk",
          "tableFrom": "sistema_perfil",
          "tableTo": "perfiles",
          "schemaTo": "identidad",
          "columnsFrom": [
            "perfil_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contabilidad.tipos_cuentas": {
      "name": "tipos_cuentas",
      "schema": "contabilidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contabilidad.cuentas_subgrupos": {
      "name": "cuentas_subgrupos",
      "schema": "contabilidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_cuenta_id": {
          "name": "tipo_cuenta_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cuentas_subgrupos_tipo_cuenta_id_tipos_cuentas_id_fk": {
          "name": "cuentas_subgrupos_tipo_cuenta_id_tipos_cuentas_id_fk",
          "tableFrom": "cuentas_subgrupos",
          "tableTo": "tipos_cuentas",
          "schemaTo": "contabilidad",
          "columnsFrom": [
            "tipo_cuenta_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cuentas_subgrupos_parent_id_cuentas_subgrupos_id_fk": {
          "name": "cuentas_subgrupos_parent_id_cuentas_subgrupos_id_fk",
          "tableFrom": "cuentas_subgrupos",
          "tableTo": "cuentas_subgrupos",
          "schemaTo": "contabilidad",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "contabilidad.planes_cuentas": {
      "name": "planes_cuentas",
      "schema": "contabilidad",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ano_contable": {
          "name": "ano_contable",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contracuenta": {
          "name": "contracuenta",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_cuenta_id": {
          "name": "tipo_cuenta_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "subgrupo_id": {
          "name": "subgrupo_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "codigo_ini": {
          "name": "codigo_ini",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "planes_cuentas_tipo_cuenta_id_tipos_cuentas_id_fk": {
          "name": "planes_cuentas_tipo_cuenta_id_tipos_cuentas_id_fk",
          "tableFrom": "planes_cuentas",
          "tableTo": "tipos_cuentas",
          "schemaTo": "contabilidad",
          "columnsFrom": [
            "tipo_cuenta_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "planes_cuentas_subgrupo_id_cuentas_subgrupos_id_fk": {
          "name": "planes_cuentas_subgrupo_id_cuentas_subgrupos_id_fk",
          "tableFrom": "planes_cuentas",
          "tableTo": "cuentas_subgrupos",
          "schemaTo": "contabilidad",
          "columnsFrom": [
            "subgrupo_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "planes_cuentas_parent_id_planes_cuentas_id_fk": {
          "name": "planes_cuentas_parent_id_planes_cuentas_id_fk",
          "tableFrom": "planes_cuentas",
          "tableTo": "planes_cuentas",
          "schemaTo": "contabilidad",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}